{"pageProps":{"bookInfo":{"id":"dcad9aafa874b094fed615b40150f437","name":"WebGIS(三)","fullPath":"F:\\passerby\\gis\\WebGIS(三)","chapterList":[{"id":"dcad9aafa874b094fed615b40150f437_069c8811e94663eb9dc14ecc0f19204b","type":"chapter","name":"01杂谈.md","fullPath":"F:\\passerby\\gis\\WebGIS(三)\\01杂谈.md","url":"/chapter/dcad9aafa874b094fed615b40150f437_069c8811e94663eb9dc14ecc0f19204b"},{"id":"dcad9aafa874b094fed615b40150f437_f317561df3720aa636fff77726982320","type":"chapter","name":"02WebGIS前端地图比例尺换算原理.md","fullPath":"F:\\passerby\\gis\\WebGIS(三)\\02WebGIS前端地图比例尺换算原理.md","url":"/chapter/dcad9aafa874b094fed615b40150f437_f317561df3720aa636fff77726982320"},{"id":"dcad9aafa874b094fed615b40150f437_12233a28c49b6a97e2bbcfe4ddf19ced","type":"chapter","name":"03前端根据地理范围换算出瓦片行列号的原理(核心).md","fullPath":"F:\\passerby\\gis\\WebGIS(三)\\03前端根据地理范围换算出瓦片行列号的原理(核心).md","url":"/chapter/dcad9aafa874b094fed615b40150f437_12233a28c49b6a97e2bbcfe4ddf19ced"},{"id":"dcad9aafa874b094fed615b40150f437_a450b3da524bc6fc34458bce6f29be1f","type":"chapter","name":"04地图瓦片在Canvas上的拼接显示原理.md","fullPath":"F:\\passerby\\gis\\WebGIS(三)\\04地图瓦片在Canvas上的拼接显示原理.md","url":"/chapter/dcad9aafa874b094fed615b40150f437_a450b3da524bc6fc34458bce6f29be1f"},{"id":"dcad9aafa874b094fed615b40150f437_6e19a9b26a8818862dc7fa1ad127bbe4","type":"chapter","name":"05栅格、矢量图层的本质.md","fullPath":"F:\\passerby\\gis\\WebGIS(三)\\05栅格、矢量图层的本质.md","url":"/chapter/dcad9aafa874b094fed615b40150f437_6e19a9b26a8818862dc7fa1ad127bbe4"},{"id":"dcad9aafa874b094fed615b40150f437_fa4fd9354469868242be736c50a04259","type":"chapter","name":"06地理坐标与屏幕坐标间的转换原理.md","fullPath":"F:\\passerby\\gis\\WebGIS(三)\\06地理坐标与屏幕坐标间的转换原理.md","url":"/chapter/dcad9aafa874b094fed615b40150f437_fa4fd9354469868242be736c50a04259"}],"title":"04地图瓦片在Canvas上的拼接显示原理","type":"book","url":"/book/dcad9aafa874b094fed615b40150f437","content":"\n    \n    \n      <div class=\"crossnote markdown-preview  \">\n      \n<h1 id=\"地图瓦片在canvas上的拼接显示原理\">地图瓦片在Canvas上的拼接显示原理 </h1>\n<h2 id=\"任意瓦片屏幕坐标的计算\">任意瓦片屏幕坐标的计算 </h2>\n<p>offSetX、offSetY：最左上角瓦片的屏幕坐标</p>\n<p>clipX、clipY：目前瓦片的行列号</p>\n<p>fixedTileLeftTopNumY、fixedTileLeftTopNumY：最左上角瓦片的行列号</p>\n<p>tileSize：瓦片大小（一张瓦片的像素）</p>\n<p>coord:目前瓦片的屏幕坐标</p>\n<p>coord.x = offSetX + ( clipX - fixedTileLeftTopNumX)* tileSize;</p>\n<p>coord.y = offSetY + ( clipY - fixedTileLeftTopNumY)* tileSize;</p>\n<h2 id=\"瓦片拼接流程\">瓦片拼接流程 </h2>\n<pre data-role=\"codeBlock\" data-info=\"\" class=\"language-text\"><code>遍历x轴上瓦片\n    遍历y轴上的瓦片\n      获得当前遍历到的瓦片的屏幕坐标，通过瓦片URL下载后，添加到canvas对应的坐标  \n</code></pre>\n      </div>\n      <div class=\"md-sidebar-toc\">\n<div class=\"md-toc\">\n<details style=\"padding:0;;padding-left:0px;\" open=\"\">\n        <summary class=\"md-toc-link-wrapper\">\n          <a href=\"#地图瓦片在canvas上的拼接显示原理\" class=\"md-toc-link\"><p>地图瓦片在Canvas上的拼接显示原理</p>\n</a>\n          </summary>\n        <div>\n          <div class=\"md-toc-link-wrapper\" style=\"padding:0;;display:list-item;list-style:square;margin-left:42px\">\n          <a href=\"#任意瓦片屏幕坐标的计算\" class=\"md-toc-link\">\n            <p>任意瓦片屏幕坐标的计算</p>\n\n          </a></div><div class=\"md-toc-link-wrapper\" style=\"padding:0;;display:list-item;list-style:square;margin-left:42px\">\n          <a href=\"#瓦片拼接流程\" class=\"md-toc-link\">\n            <p>瓦片拼接流程</p>\n\n          </a></div>\n        </div>\n      </details>\n    \n</div>\n</div>\n      <a id=\"sidebar-toc-btn\">≡</a>\n    \n    \n    \n    \n    \n    \n<script>\n\nvar sidebarTOCBtn = document.getElementById('sidebar-toc-btn')\nsidebarTOCBtn.addEventListener('click', function(event) {\n  event.stopPropagation()\n  if (document.body.hasAttribute('html-show-sidebar-toc')) {\n    document.body.removeAttribute('html-show-sidebar-toc')\n  } else {\n    document.body.setAttribute('html-show-sidebar-toc', true)\n  }\n})\n</script>\n      \n  \n    "},"title":"04地图瓦片在Canvas上的拼接显示原理"},"__N_SSG":true}