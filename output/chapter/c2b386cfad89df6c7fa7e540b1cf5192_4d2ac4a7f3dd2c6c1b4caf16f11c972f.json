{"pageProps":{"bookInfo":{"id":"c2b386cfad89df6c7fa7e540b1cf5192","name":"WPF教程","fullPath":"F:\\passerby\\csharp\\WPF教程","chapterList":[{"id":"c2b386cfad89df6c7fa7e540b1cf5192_ef577b720dacf53df3ae49bb90bac72a","type":"chapter","name":"01WPF体系结构.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\01WPF体系结构.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_ef577b720dacf53df3ae49bb90bac72a"},{"id":"c2b386cfad89df6c7fa7e540b1cf5192_4d2ac4a7f3dd2c6c1b4caf16f11c972f","type":"chapter","name":"02WPF应用程序管理.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\02WPF应用程序管理.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_4d2ac4a7f3dd2c6c1b4caf16f11c972f"},{"id":"c2b386cfad89df6c7fa7e540b1cf5192_dccdac507a316e4e80df39c473c9cd53","type":"chapter","name":"03WPF窗体.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\03WPF窗体.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_dccdac507a316e4e80df39c473c9cd53"},{"id":"c2b386cfad89df6c7fa7e540b1cf5192_8c8c5a68dfc06a8d598bd12da1fc7aaf","type":"chapter","name":"04WPF布局.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\04WPF布局.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_8c8c5a68dfc06a8d598bd12da1fc7aaf"},{"id":"c2b386cfad89df6c7fa7e540b1cf5192_68af2be695174cb3ec4408ddfcefd90b","type":"chapter","name":"05WPF控件模型.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\05WPF控件模型.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_68af2be695174cb3ec4408ddfcefd90b"},{"id":"c2b386cfad89df6c7fa7e540b1cf5192_0c85855a5aadb7719a4a7351abb288b9","type":"chapter","name":"06WPF依赖项属性和路由事件.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\06WPF依赖项属性和路由事件.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_0c85855a5aadb7719a4a7351abb288b9"},{"id":"c2b386cfad89df6c7fa7e540b1cf5192_524c4971908be13b6f37367cc71ce39c","type":"chapter","name":"07WPF键盘输入、鼠标输入、焦点处理.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\07WPF键盘输入、鼠标输入、焦点处理.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_524c4971908be13b6f37367cc71ce39c"},{"id":"c2b386cfad89df6c7fa7e540b1cf5192_8e3e067e78e962ea24d6868bfe119d70","type":"chapter","name":"08WPF命令.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\08WPF命令.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_8e3e067e78e962ea24d6868bfe119d70"},{"id":"c2b386cfad89df6c7fa7e540b1cf5192_30dfa04cc943d72e072ca2137a7305e4","type":"chapter","name":"09WPF资源.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\09WPF资源.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_30dfa04cc943d72e072ca2137a7305e4"},{"id":"c2b386cfad89df6c7fa7e540b1cf5192_21dc9b2382d63bf02f951b51778d8b5c","type":"chapter","name":"10WPF样式与模板.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\10WPF样式与模板.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_21dc9b2382d63bf02f951b51778d8b5c"},{"id":"c2b386cfad89df6c7fa7e540b1cf5192_905a7533a2c0d9bb42e08852ce81a13c","type":"chapter","name":"11WPF更换主题.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\11WPF更换主题.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_905a7533a2c0d9bb42e08852ce81a13c"},{"id":"c2b386cfad89df6c7fa7e540b1cf5192_04078b526541a1e84bc17d6f367ed1bb","type":"chapter","name":"12WPF数据绑定.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\12WPF数据绑定.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_04078b526541a1e84bc17d6f367ed1bb"},{"id":"c2b386cfad89df6c7fa7e540b1cf5192_0789e3dd7dcfe7a364b09978ebf0c5ce","type":"chapter","name":"13WPF基本图形.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\13WPF基本图形.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_0789e3dd7dcfe7a364b09978ebf0c5ce"},{"id":"c2b386cfad89df6c7fa7e540b1cf5192_f9e2cf299b43fd1ed1ce78a44fb8e17c","type":"chapter","name":"14WPFBrush.md","fullPath":"F:\\passerby\\csharp\\WPF教程\\14WPFBrush.md","url":"/chapter/c2b386cfad89df6c7fa7e540b1cf5192_f9e2cf299b43fd1ed1ce78a44fb8e17c"}],"title":"02WPF应用程序管理","type":"book","url":"/book/c2b386cfad89df6c7fa7e540b1cf5192","content":"\n    \n    \n      <div class=\"crossnote markdown-preview  \">\n      \n<h1 id=\"wpf应用程序管理\">WPF应用程序管理 </h1>\n<blockquote>\n<p>WPF应用程序由System.Windows.Application类进行管理</p>\n</blockquote>\n<h2 id=\"创建wpf应用程序\">创建WPF应用程序 </h2>\n<ul>\n<li>使用APP.xmal文件定期启动引用程序</li>\n</ul>\n<pre data-role=\"codeBlock\" data-info=\"xml\" class=\"language-xml xml\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Application</span> <span class=\"token attr-name\"><span class=\"token namespace\">x:</span>Class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>WpfApplicationLifeCycle.App<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://schemas.microsoft.com/winfx/2006/xaml/presentation<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>x</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://schemas.microsoft.com/winfx/2006/xaml<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">StartupUri</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Window1.xaml<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Application.Resources</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Application.Resources</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Application</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre><p>其中<strong>StartupUri</strong>表示指定启动的WPF窗体</p>\n<ul>\n<li>自定义类中指定WPF应用程序的启动</li>\n</ul>\n<pre data-role=\"codeBlock\" data-info=\"c#\" class=\"language-c# c#\"><code>using System;\nusing System.Windows;\n\nnamespace WpfApplicationHelloWorld \n{\n    public class HelloWorld \n    {\n        static void Main(){\n            Application app = new Application();\n            // 方法一\n            // Window2 win = new Window2();\n            // app.Run(win);\n            \n            // 方法二\n            // Window2 win = new Window2();\n            // app.MainWindow = win;\n            // win.Show();\n            // app.Run();\n\n            // 方法三\n            app.StartupUri = new Uri(\"window2.xmal\", UriKind.Relative);\n            app.Run();\n        } \n    }\n}\n</code></pre><h2 id=\"应用程序关闭\">应用程序关闭 </h2>\n<p>应用程序关闭时的策略由ShutdownMode属性指定，其类型为System.Windows.ShutdownMode枚举类型，其枚举成员有：</p>\n<ul>\n<li>OnLastWindowClose（默认值）：当应用程序中的最后一个窗体关闭时或调用Application对象的Shutdown()方法时，应用程序关闭。</li>\n<li>OnMainWindowClose：当主窗体（即启动窗体）关闭时或调用Application对象的Shutdown()方法时，应用程序关闭。（类似于C#的Windows应用程序的关闭模式）</li>\n<li>OnExplicitShutdown：只有在调用Application对象的Shutdown()方法时，应用程序才会关闭。</li>\n</ul>\n<h3 id=\"代码修改\">代码修改 </h3>\n<pre data-role=\"codeBlock\" data-info=\"xml\" class=\"language-xml xml\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Application</span> <span class=\"token attr-name\"><span class=\"token namespace\">x:</span>Class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>WpfApplicationLifeCycle.App<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://schemas.microsoft.com/winfx/2006/xaml/presentation<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>x</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://schemas.microsoft.com/winfx/2006/xaml<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">StartupUri</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Window1.xaml<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">ShutdownMode</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>OnExplicitShutdown<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Application.Resources</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Application.Resources</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Application</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre><pre data-role=\"codeBlock\" data-info=\"c#\" class=\"language-c# c#\"><code>// 在执行app.run方法执行即可\napp.ShutdownMode = ShutdownMode.OnExplicitShutdown;\n</code></pre><h2 id=\"application对象的事件\">Application对象的事件 </h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Activated</td>\n<td style=\"text-align:left\">当应用程序成为前台应用程序时发生</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Deactivated</td>\n<td style=\"text-align:left\">当应用程序停止作为前台应用程序时发生</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">DispatcherUnhandledException</td>\n<td style=\"text-align:left\">在异常由应用程序引发但未进行处理时发生</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Exit</td>\n<td style=\"text-align:left\">恰好在应用程序关闭之前发生，且无法取消</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">FragmentNavigation</td>\n<td style=\"text-align:left\">当应用程序中的导航器开始导航至某个内容片断时发生，如果所需片段位于当前内容中，则导航会立即发生；或者，如果所需片段位于不同内容中，则导航会在加载了源 XAML 内容之后发生</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">LoadCompleted</td>\n<td style=\"text-align:left\">在已经加载、分析并开始呈现应用程序中的导航器导航到的内容时发生</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Navigated</td>\n<td style=\"text-align:left\">在已经找到应用程序中的导航器要导航到的内容时发生，尽管此时该内容可能尚未完成加载</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Navigating</td>\n<td style=\"text-align:left\">在应用程序中的导航器请求新导航时发生</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">NavigationFailed</td>\n<td style=\"text-align:left\">在应用程序中的导航器在导航到所请求内容时出现错误的情况下发生</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">NavigationProgress</td>\n<td style=\"text-align:left\">在由应用程序中的导航器管理的下载过程中定期发生，以提供导航进度信息</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">NavigationStopped</td>\n<td style=\"text-align:left\">在调用应用程序中的导航器的StopLoading方法时发生，或者当导航器在当前导航正在进行期间请求了一个新导航时发生</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">SessionEnding</td>\n<td style=\"text-align:left\">在用户通过注销或关闭操作系统而结束Windows会话时发生</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Startup</td>\n<td style=\"text-align:left\">在调用Application对象的Run方法时发生</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"应用事件的处理\">应用事件的处理 </h3>\n<ul>\n<li>可以在App.xmal中做事件的绑定</li>\n</ul>\n<pre data-role=\"codeBlock\" data-info=\"xml\" class=\"language-xml xml\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Application</span> <span class=\"token attr-name\"><span class=\"token namespace\">x:</span>Class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>WpfApplicationLifeCycle.App<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://schemas.microsoft.com/winfx/2006/xaml/presentation<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>x</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://schemas.microsoft.com/winfx/2006/xaml<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">Startup</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Application_Startup<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">StartupUri</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Window1.xaml<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Application.Resources</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Application.Resources</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Application</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre><pre data-role=\"codeBlock\" data-info=\"c#\" class=\"language-c# c#\"><code>// App.xmal.cs文件中\nusing System;\nusing System.Windows;\n\nnamespace WpfApplicationHelloWorld \n{\n    public partial class HelloWorld: Application\n    {\n        private void Application_Startup(object sender, StartupEventArgs e) \n        {\n            // 定义程序启动时要处理的内容\n        }\n    }\n}\n</code></pre><h2 id=\"应用程序生存周期\">应用程序生存周期 </h2>\n<p><img src=\"/assets/2d964503c4cb4cf58d37b41ab0285e0f\" alt=\"WPF应用程序生存周期\"></p>\n\n      </div>\n      <div class=\"md-sidebar-toc\">\n<div class=\"md-toc\">\n<details style=\"padding:0;;padding-left:0px;\" open=\"\">\n        <summary class=\"md-toc-link-wrapper\">\n          <a href=\"#wpf应用程序管理\" class=\"md-toc-link\"><p>WPF应用程序管理</p>\n</a>\n          </summary>\n        <div>\n          <div class=\"md-toc-link-wrapper\" style=\"padding:0;;display:list-item;list-style:square;margin-left:42px\">\n          <a href=\"#创建wpf应用程序\" class=\"md-toc-link\">\n            <p>创建WPF应用程序</p>\n\n          </a></div><details style=\"padding:0;;padding-left:24px;\" open=\"\">\n        <summary class=\"md-toc-link-wrapper\">\n          <a href=\"#应用程序关闭\" class=\"md-toc-link\"><p>应用程序关闭</p>\n</a>\n          </summary>\n        <div>\n          <div class=\"md-toc-link-wrapper\" style=\"padding:0;;display:list-item;list-style:square;margin-left:42px\">\n          <a href=\"#代码修改\" class=\"md-toc-link\">\n            <p>代码修改</p>\n\n          </a></div>\n        </div>\n      </details>\n    <details style=\"padding:0;;padding-left:24px;\" open=\"\">\n        <summary class=\"md-toc-link-wrapper\">\n          <a href=\"#application对象的事件\" class=\"md-toc-link\"><p>Application对象的事件</p>\n</a>\n          </summary>\n        <div>\n          <div class=\"md-toc-link-wrapper\" style=\"padding:0;;display:list-item;list-style:square;margin-left:42px\">\n          <a href=\"#应用事件的处理\" class=\"md-toc-link\">\n            <p>应用事件的处理</p>\n\n          </a></div>\n        </div>\n      </details>\n    <div class=\"md-toc-link-wrapper\" style=\"padding:0;;display:list-item;list-style:square;margin-left:42px\">\n          <a href=\"#应用程序生存周期\" class=\"md-toc-link\">\n            <p>应用程序生存周期</p>\n\n          </a></div>\n        </div>\n      </details>\n    \n</div>\n</div>\n      <a id=\"sidebar-toc-btn\">≡</a>\n    \n    \n    \n    \n    \n    \n<script>\n\nvar sidebarTOCBtn = document.getElementById('sidebar-toc-btn')\nsidebarTOCBtn.addEventListener('click', function(event) {\n  event.stopPropagation()\n  if (document.body.hasAttribute('html-show-sidebar-toc')) {\n    document.body.removeAttribute('html-show-sidebar-toc')\n  } else {\n    document.body.setAttribute('html-show-sidebar-toc', true)\n  }\n})\n</script>\n      \n  \n    "},"title":"02WPF应用程序管理"},"__N_SSG":true}