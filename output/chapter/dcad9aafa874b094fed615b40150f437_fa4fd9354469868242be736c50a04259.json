{"pageProps":{"bookInfo":{"id":"dcad9aafa874b094fed615b40150f437","name":"WebGIS(三)","fullPath":"F:\\passerby\\gis\\WebGIS(三)","chapterList":[{"id":"dcad9aafa874b094fed615b40150f437_069c8811e94663eb9dc14ecc0f19204b","type":"chapter","name":"01杂谈.md","fullPath":"F:\\passerby\\gis\\WebGIS(三)\\01杂谈.md","url":"/chapter/dcad9aafa874b094fed615b40150f437_069c8811e94663eb9dc14ecc0f19204b"},{"id":"dcad9aafa874b094fed615b40150f437_f317561df3720aa636fff77726982320","type":"chapter","name":"02WebGIS前端地图比例尺换算原理.md","fullPath":"F:\\passerby\\gis\\WebGIS(三)\\02WebGIS前端地图比例尺换算原理.md","url":"/chapter/dcad9aafa874b094fed615b40150f437_f317561df3720aa636fff77726982320"},{"id":"dcad9aafa874b094fed615b40150f437_12233a28c49b6a97e2bbcfe4ddf19ced","type":"chapter","name":"03前端根据地理范围换算出瓦片行列号的原理(核心).md","fullPath":"F:\\passerby\\gis\\WebGIS(三)\\03前端根据地理范围换算出瓦片行列号的原理(核心).md","url":"/chapter/dcad9aafa874b094fed615b40150f437_12233a28c49b6a97e2bbcfe4ddf19ced"},{"id":"dcad9aafa874b094fed615b40150f437_a450b3da524bc6fc34458bce6f29be1f","type":"chapter","name":"04地图瓦片在Canvas上的拼接显示原理.md","fullPath":"F:\\passerby\\gis\\WebGIS(三)\\04地图瓦片在Canvas上的拼接显示原理.md","url":"/chapter/dcad9aafa874b094fed615b40150f437_a450b3da524bc6fc34458bce6f29be1f"},{"id":"dcad9aafa874b094fed615b40150f437_6e19a9b26a8818862dc7fa1ad127bbe4","type":"chapter","name":"05栅格、矢量图层的本质.md","fullPath":"F:\\passerby\\gis\\WebGIS(三)\\05栅格、矢量图层的本质.md","url":"/chapter/dcad9aafa874b094fed615b40150f437_6e19a9b26a8818862dc7fa1ad127bbe4"},{"id":"dcad9aafa874b094fed615b40150f437_fa4fd9354469868242be736c50a04259","type":"chapter","name":"06地理坐标与屏幕坐标间的转换原理.md","fullPath":"F:\\passerby\\gis\\WebGIS(三)\\06地理坐标与屏幕坐标间的转换原理.md","url":"/chapter/dcad9aafa874b094fed615b40150f437_fa4fd9354469868242be736c50a04259"}],"title":"06地理坐标与屏幕坐标间的转换原理","type":"book","url":"/book/dcad9aafa874b094fed615b40150f437","content":"\n    \n    \n      <div class=\"crossnote markdown-preview  \">\n      \n<h1 id=\"地理坐标与屏幕坐标间的转换原理\">地理坐标与屏幕坐标间的转换原理 </h1>\n<p>地图本身是拥有坐标的，一般可以大致分为平面坐标和经纬度坐标，在这里我们统称为地理坐标</p>\n<h2 id=\"转换前提\">转换前提 </h2>\n<ol>\n<li>知道屏幕的最左上角所对应的真实的地理坐标（screenGeoBounds.left, screenGeoBounds.top）。</li>\n<li>知道此时的地图所在级别上每个瓦片所对应的实际地理长度(sliceLevelLength)。</li>\n<li>知道瓦片的大小，即一个瓦片所拥有的屏幕像素(tileSize)。</li>\n</ol>\n<h2 id=\"转换公式\">转换公式 </h2>\n<h3 id=\"屏幕坐标转换为地理坐标\">屏幕坐标转换为地理坐标 </h3>\n<p>geoXY.x = screenGeoBounds.left + screenX * sliceLevelLength / tileSize;</p>\n<p>geoXY.y = screenGeoBounds.top - screenY * sliceLevelLength / tileSize;</p>\n<h4 id=\"地理坐标转换为屏幕坐标\">地理坐标转换为屏幕坐标 </h4>\n<p>screenXY.x = (geoX - screenGeoBounds.left)/(sliceLevelLength/ tileSize);</p>\n<p>screenXY.y = (screenGeoBounds.top - geoY)/(sliceLevelLength/ tileSize);</p>\n\n      </div>\n      <div class=\"md-sidebar-toc\">\n<div class=\"md-toc\">\n<details style=\"padding:0;;padding-left:0px;\" open=\"\">\n        <summary class=\"md-toc-link-wrapper\">\n          <a href=\"#地理坐标与屏幕坐标间的转换原理\" class=\"md-toc-link\"><p>地理坐标与屏幕坐标间的转换原理</p>\n</a>\n          </summary>\n        <div>\n          <div class=\"md-toc-link-wrapper\" style=\"padding:0;;display:list-item;list-style:square;margin-left:42px\">\n          <a href=\"#转换前提\" class=\"md-toc-link\">\n            <p>转换前提</p>\n\n          </a></div><details style=\"padding:0;;padding-left:24px;\" open=\"\">\n        <summary class=\"md-toc-link-wrapper\">\n          <a href=\"#转换公式\" class=\"md-toc-link\"><p>转换公式</p>\n</a>\n          </summary>\n        <div>\n          <details style=\"padding:0;;padding-left:24px;\" open=\"\">\n        <summary class=\"md-toc-link-wrapper\">\n          <a href=\"#屏幕坐标转换为地理坐标\" class=\"md-toc-link\"><p>屏幕坐标转换为地理坐标</p>\n</a>\n          </summary>\n        <div>\n          <div class=\"md-toc-link-wrapper\" style=\"padding:0;;display:list-item;list-style:square;margin-left:42px\">\n          <a href=\"#地理坐标转换为屏幕坐标\" class=\"md-toc-link\">\n            <p>地理坐标转换为屏幕坐标</p>\n\n          </a></div>\n        </div>\n      </details>\n    \n        </div>\n      </details>\n    \n        </div>\n      </details>\n    \n</div>\n</div>\n      <a id=\"sidebar-toc-btn\">≡</a>\n    \n    \n    \n    \n    \n    \n<script>\n\nvar sidebarTOCBtn = document.getElementById('sidebar-toc-btn')\nsidebarTOCBtn.addEventListener('click', function(event) {\n  event.stopPropagation()\n  if (document.body.hasAttribute('html-show-sidebar-toc')) {\n    document.body.removeAttribute('html-show-sidebar-toc')\n  } else {\n    document.body.setAttribute('html-show-sidebar-toc', true)\n  }\n})\n</script>\n      \n  \n    "},"title":"06地理坐标与屏幕坐标间的转换原理"},"__N_SSG":true}