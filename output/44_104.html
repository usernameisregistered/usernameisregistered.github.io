<!DOCTYPE html><html lang="zh-CN"><head>  <meta charset="UTF-8" />  <meta name="viewport" content="width=device-width, initial-scale=1.0" />  <title>命令.-MongoDB-得鹿梦鱼</title>  <link rel="shortcut icon" href="/assets/images/favicon.ico">    <meta name="Author" content="liming_longxi@163.com">    <meta name="Keywords" content="命令."/>  <link rel="stylesheet" href="/assets/styles/main.css" />  <link rel="stylesheet" href="/assets/styles/katex/common.css" />  <link rel="stylesheet" href="/assets/styles/katex/katex.min.css" />  <script src="/assets/script/highlight.js"></script></head><body data-for="html-export">  <div class="w-screen h-screen flex flex-col overflow-hidden">    <header class="flex flex-grow-0 justify-between p-4 border-b border-neutral-200">      <a href="/" class="flex items-center text-2xl text-neutral-700 cursor-pointer">        <img src="/assets/images/logo.svg" class="w-[40px] h-[40px]" alt="得鹿梦鱼"></Image>        <span class="text-4 ml-4">得鹿梦鱼</span>      </a>      <div class="right flex items-center cursor-pointer">        <a href="/classify.html" class="mr-2 text-md hover:text-sky-500">知识库</a>        <a href="/frontend.html" class="mr-2 text-md hover:text-sky-500">前端技能树</a>        <a href="/question.html" class="mr-2 text-md hover:text-sky-500">面试题</a>        <a href="/study.html" class="mr-2 text-md hover:text-sky-500">学习资料</a>        <a href="/about.html" class="mr-2 text-md hover:text-sky-500">关于本人</a>      </div>    </header>    <main class="flex-grow-1 overflow-hidden scrollHeight">      <div class="w-screen flex flex-1">        <aside class="basis-2/12 border-r border-gray-300 h-full overflow-hidden">          <div class="text-md font-bold text-gray-700 m-4">MongoDB</div>          <div class="overflow-x-hidden overflow-y-auto scrollChapterHeight scrollbar flex flex-col">            <a class="text-md block mx-4 mb-2 cursor-pointer overflow-hidden text-ellipsis whitespace-nowrap hover:text-sky-300" href="/44_100.html" title="介绍">介绍            </a>            <a class="text-md block mx-4 mb-2 cursor-pointer overflow-hidden text-ellipsis whitespace-nowrap hover:text-sky-300" href="/44_101.html" title="安装">安装            </a>            <a class="text-md block mx-4 mb-2 cursor-pointer overflow-hidden text-ellipsis whitespace-nowrap hover:text-sky-300" href="/44_102.html" title="概念">概念            </a>            <a class="text-md block mx-4 mb-2 cursor-pointer overflow-hidden text-ellipsis whitespace-nowrap hover:text-sky-300" href="/44_103.html" title="连接">连接            </a>            <a class="text-md block mx-4 mb-2 cursor-pointer overflow-hidden text-ellipsis whitespace-nowrap hover:text-sky-300" href="/44_104.html" title="命令.">命令.            </a>            <a class="text-md block mx-4 mb-2 cursor-pointer overflow-hidden text-ellipsis whitespace-nowrap hover:text-sky-300" href="/44_105.html" title="高级">高级            </a>          </div>        </aside>        <section class="basis-10/12 overflow-x-hidden overflow-y-auto scrollChapterHeight scrollbar">          <div id="markdown-container" class="px-4 relative">                          <div class="crossnote markdown-preview  ">      <h2 id="数据库相关">数据库相关 </h2><p>创建数据库 use database_name<br>查看数据库 show dbs<br>删除数据库 db.dropDatabase</p><h2 id="集合">集合 </h2><p>创建集合 db.createCollectionname,options<br>options<br>capped	布尔	（可选）如果为 true，则创建固定集合。固定集合是指有着固定大小的集合，当达到最大值时，它会自动覆盖最早的文档,当该值为 true 时，必须指定 size 参数<br>autoIndexId	布尔	（可选）如为 true，自动在 _id 字段创建索引。默认为 false。<br>size	数值	（可选）为固定集合指定一个最大值，以千字节计（KB）,如果 capped 为 true，也需要指定该字段。<br>max	数值	（可选）指定固定集合中包含文档的最大数量</p><p>查看已有集合 show collections show tables<br>删除集合 db.collection.drop</p><h2 id="文档相关">文档相关 </h2><p>插入文档 db.collect_name.insertdocument<br>向指定集合中插入一条文档数据 db.collection.insertOne<br>向指定集合中插入多条文档数据 db.collection.insertMany<br>文档查找 db.collect_name.find<br>文档更新 db.collect_name.update&lt;query&gt;, &lt;update&gt;,&lt;options&gt;<br>文档替换 db.collect_name.savedocument<br>文档删除 db.collect_name.remove&lt;query&gt;,&lt;options&gt;<br>文档删除 db.collect_name.deleteOne&lt;query&gt;<br>全部文档删除 db.collect_name.deleteMany&lt;query&gt;</p><h2 id="type-操作符">$type 操作符 </h2><p>double 1<br>string 2<br>object 3<br>array 4<br>binary data 5<br>undefined 6<br>object id 7<br>boolean 8<br>date 9<br>null 10<br>regular expression 11<br>javascript 13<br>symbol 14</p><h2 id="分页">分页 </h2><p>读取指定数量的数据记录 db.COLLECTION_NAME.find.limitNUMBER<br>跳过指定数量的数据 db.COLLECTION_NAME.find.limitNUMBER.skipNUMBER</p><h2 id="排序">排序 </h2><p>db.COLLECTION_NAME.find.sort{KEY:1}</p><h2 id="索引">索引 </h2><p>创建 db.collection_name.createIndexkey,options<br>查看 db.collection_name.getIndexs<br>查看集合索引大小 db.collection_name.getIndexSize<br>删除 db.collection_name.dropIndex</p><h2 id="聚合">聚合 </h2><p>db.COLLECTION_NAME.aggregateAGGREGATE_OPERATION</p><table><thead><tr><th>表达式</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>$sum</td><td>计算总和</td><td>db.mycol.aggregate[{$group : {_id : "$by_user", num_tutorial : {$sum : "$likes"}}}]</td></tr><tr><td>$avg</td><td>计算平均值</td><td>db.mycol.aggregate[{$group : {_id : "$by_user", num_tutorial : {$avg : "$likes"}}}]</td></tr><tr><td>$min</td><td>获取集合中所有文档对应值得最小值。</td><td>db.mycol.aggregate[{$group : {_id : "$by_user", num_tutorial : {$min : "$likes"}}}]</td></tr><tr><td>$max</td><td>获取集合中所有文档对应值得最大值。</td><td>db.mycol.aggregate[{$group : {_id : "$by_user", num_tutorial : {$max : "$likes"}}}]</td></tr><tr><td>$push</td><td>在结果文档中插入值到一个数组中。</td><td>db.mycol.aggregate[{$group : {_id : "$by_user", url : {$push: "$url"}}}]</td></tr><tr><td>$addToSet</td><td>在结果文档中插入值到一个数组中，但不创建副本。</td><td>db.mycol.aggregate[{$group : {_id : "$by_user", url : {$addToSet : "$url"}}}]</td></tr><tr><td>$first</td><td>根据资源文档的排序获取第一个文档数据。</td><td>db.mycol.aggregate[{$group : {_id : "$by_user", first_url : {$first : "$url"}}}]</td></tr><tr><td>$last</td><td>根据资源文档的排序获取最后一个文档数据</td><td>db.mycol.aggregate[{$group : {_id : "$by_user", last_url : {$last : "$url"}}}]</td></tr></tbody></table>      </div>      <div class="md-sidebar-toc"><div class="md-toc"><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">          <a href="#数据库相关" class="md-toc-link">            <p>数据库相关</p>          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">          <a href="#集合" class="md-toc-link">            <p>集合</p>          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">          <a href="#文档相关" class="md-toc-link">            <p>文档相关</p>          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">          <a href="#type-操作符" class="md-toc-link">            <p>$type 操作符</p>          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">          <a href="#分页" class="md-toc-link">            <p>分页</p>          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">          <a href="#排序" class="md-toc-link">            <p>排序</p>          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">          <a href="#索引" class="md-toc-link">            <p>索引</p>          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">          <a href="#聚合" class="md-toc-link">            <p>聚合</p>          </a></div></div></div>      <a id="sidebar-toc-btn">≡</a>                        <script>var sidebarTOCBtn = document.getElementById'sidebar-toc-btn'sidebarTOCBtn.addEventListener'click', functionevent {  event.stopPropagation  if document.body.hasAttribute'html-show-sidebar-toc' {    document.body.removeAttribute'html-show-sidebar-toc'  } else {    document.body.setAttribute'html-show-sidebar-toc', true  }}</script>                      </div>        </section>      </div>    </main></body></html>