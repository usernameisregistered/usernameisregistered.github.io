<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>接口-IndexedDB-得鹿梦鱼</title>
  <link rel="shortcut icon" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="/assets/styles/main.css" />
  <link rel="stylesheet" href="/assets/styles/katex/common.css" />
  <link rel="stylesheet" href="/assets/styles/katex/katex.min.css" />
  <script src="/assets/script/highlight.js"></script>
</head>

<body data-for="html-export">
  <div class="w-screen h-screen flex flex-col overflow-hidden">
    <header class="flex flex-grow-0 justify-between p-4 border-b border-neutral-200">
      <a href="/" class="flex items-center text-2xl text-neutral-700 cursor-pointer">
        <img src="/assets/images/logo.svg" class="w-[40px] h-[40px]" alt="得鹿梦鱼"></Image>
        <span class="text-4 ml-4">得鹿梦鱼</span>
      </a>
      <div class="right flex items-center cursor-pointer">
        <a href="/classify.html" class="mr-2 text-md hover:text-sky-500">知识库</a>
        <a href="/frontend.html" class="mr-2 text-md hover:text-sky-500">前端技能树</a>
        <a href="/question.html" class="mr-2 text-md hover:text-sky-500">面试题</a>
        <a href="/study.html" class="mr-2 text-md hover:text-sky-500">学习资料</a>
        <a href="/about.html" class="mr-2 text-md hover:text-sky-500">关于本人</a>
      </div>
    </header>
    <main class="flex-grow-1 overflow-hidden scrollHeight">
      <div class="w-screen flex flex-1">
        <aside class="basis-2/12 border-r border-gray-300 h-full overflow-hidden">
          <div class="text-md font-bold text-gray-700 m-4">IndexedDB</div>
          <div class="overflow-x-hidden overflow-y-auto scrollChapterHeight scrollbar flex flex-col">
            <a class="text-md block mx-4 mb-2 cursor-pointer overflow-hidden text-ellipsis whitespace-nowrap hover:text-sky-300" href="/10034_100000.html">基础
            </a>
            <a class="text-md block mx-4 mb-2 cursor-pointer overflow-hidden text-ellipsis whitespace-nowrap hover:text-sky-300" href="/10034_100001.html">浏览器存储限制和清理标准
            </a>
            <a class="text-md block mx-4 mb-2 cursor-pointer overflow-hidden text-ellipsis whitespace-nowrap hover:text-sky-300" href="/10034_100002.html">接口
            </a>
          </div>
        </aside>
        <section class="basis-10/12 overflow-x-hidden overflow-y-auto scrollChapterHeight scrollbar">
          <div id="markdown-container" class="px-4 relative">
            
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="indexeddb的接口">indexedDB的接口 </h1>
<h2 id="idbcursor">IDBCursor </h2>
<p>IDBCursor 接口表示一个游标，用于遍历或迭代数据库中的多条记录</p>
<p>游标有一个源，指示需要遍历哪一个索引或者对象存储区。它在所属区间范围内有一个位置，根据记录健（存储字段）的顺序递增或递减方向移动。游标使应用程序能够异步处理在游标范围内的所有记录</p>
<p><img src="/assets/1000156.png" alt="IDBCursor"></p>
<h2 id="idbdatabase">IDBDatabase </h2>
<p>提供一个到 数据库的连接; 你可以使用 IDBDatabase 对象在数据库中打开一个transaction , 然后进行操作或者删除数据库中的对象。这是唯一一个能够访问和管理数据库版本的接口。</p>
<p><img src="/assets/1000157.png" alt="IDBDatabase"></p>
<h2 id="idbfactory">IDBFactory </h2>
<p>让程序可以异步存取 indexed databases,你可以通过这个对象而不是直接使用IDBFactory接口打开——创建或者连接——和删除一个数据库。</p>
<p><img src="/assets/1000158.png" alt="IDBFactory"></p>
<h2 id="idbindex">IDBIndex </h2>
<p>提供了异步获取数据库中一个index的功能。index 是一种用于在另一个 object store 中查找记录的 object store，其被称为被引用的 object store。你可以通过使用该接口来取回数据。</p>
<p>index 是一个持久的键 - 值存储，其中其记录的值部分是被引用 object store 中的 record 的关键部分。在 object store 中新增、更新或是删除 records 时，索引中的 records 将自动填充。索引中的每条记录只能指向其引用的 object store 中的唯一一条记录，但是多个索引可以引用同一个 object store。当 object store 变更时，所有引用 object store 的索引都会自动更新。</p>
<p><img src="/assets/1000159.png" alt="IDBIndex"></p>
<h2 id="idbkeyrange">IDBKeyRange </h2>
<p>表示一些数据类型上的键的连续间隔。可以使用一个键或某个范围的键从IDBObjectStore 和IDBIndex 对象中检索记录。你也可以指定键的上界和下界来限制范围</p>
<p>键范围可以是单个值，也可以是具有上界、下界或端点的范围。如果键范围同时有上界或下界，那么它是有界的，否则是无界的。有界键范围可以是开放的（不包含端点）或闭合的（包含了端点）。要检索一定范围内的所有键值，可以使用以下的代码结构：</p>
<p><img src="/assets/1000160.png" alt="IDBKeyRange"></p>
<h2 id="idbobjectstore">IDBObjectStore </h2>
<p>IDBObjectStore 接口表示数据库中的 一个 对象库 (object store) 。对象库中的记录根据其键值进行排序。这种排序可以实现快速插入，查找和有序检索</p>
<p>为了方便理解，可以把“对象存储空间”想象成关系数据库的“表”结构，下文也会把对象存储空间称为表</p>
<p><img src="/assets/1000161.png" alt="IDBObjectStore"></p>
<h2 id="idbopendbrequest">IDBOpenDBRequest </h2>
<p>IndexedDB API的IDBOpenDBRequest接口提供了对打开或删除数据库请求结果的访问(使用IDBFactory执行)。open和IDBFactory.deleteDatabase，使用特定的事件处理程序属性<br>
事件： blocked<br>
当打开的数据库连接阻止同一数据库上的版本更改事务时触发。也可以通过onblocked属性获得。</p>
<p>事件： upgradeneeded<br>
当尝试打开版本号高于其当前版本的数据库时触发。也可以通过onupgradenneeded属性获得。</p>
<h2 id="idbrequest">IDBRequest </h2>
<p>提供了根据绑定事件处理函数访问结果集的方法。其中结果集来自对数据库和数据库对象发起的异步查询。对数据库的读写操作都是通过 request 的方式来实现</p>
<p>request 对象初始时不包括任何关于操作结果的信息，当 request 上的事件触发时，可以通过 IDBRequest 实例上的事件处理函数访问相关信息</p>
<p>所有的异步方法返回一个 request 对象。如果 request 对象成功执行了，结果可以通过 result 属性访问到，并且该 request 对象上会触发 success 事件。如果操作中有错误发生，一个 error 事件会触发，并且会通过 result 属性抛出一个异常。</p>
<h2 id="idbtransaction">IDBTransaction </h2>
<p>异步事务使用数据库中的事件对象属性。所有的读取和写入数据均在事务中完成。由IDBDatabase发起事务，通过IDBTransaction 来设置事务的模式（例如：是否只读readonly或读写readwrite），以及通过IDBObjectStore来发起一个请求。同时你也可以使用它来中止事务</p>
<h2 id="idbversionchangeevent">IDBVersionChangeEvent </h2>
<p>IndexedDB API的IDBVersionChangeEvent接口指示数据库的版本发生了变化，这是onupgradenrequired事件处理函数的结果。继承自Event</p>
<p>只有2个属性</p>
<ul>
<li>oldVersion</li>
<li>newVersion</li>
</ul>

      </div>
      <div class="md-sidebar-toc">
<div class="md-toc">
<details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#indexeddb的接口" class="md-toc-link"><p>indexedDB的接口</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#idbcursor" class="md-toc-link">
            <p>IDBCursor</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#idbdatabase" class="md-toc-link">
            <p>IDBDatabase</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#idbfactory" class="md-toc-link">
            <p>IDBFactory</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#idbindex" class="md-toc-link">
            <p>IDBIndex</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#idbkeyrange" class="md-toc-link">
            <p>IDBKeyRange</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#idbobjectstore" class="md-toc-link">
            <p>IDBObjectStore</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#idbopendbrequest" class="md-toc-link">
            <p>IDBOpenDBRequest</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#idbrequest" class="md-toc-link">
            <p>IDBRequest</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#idbtransaction" class="md-toc-link">
            <p>IDBTransaction</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#idbversionchangeevent" class="md-toc-link">
            <p>IDBVersionChangeEvent</p>

          </a></div>
        </div>
      </details>
    
</div>
</div>
      <a id="sidebar-toc-btn">≡</a>
    
    
    
    
    
    
<script>

var sidebarTOCBtn = document.getElementById('sidebar-toc-btn')
sidebarTOCBtn.addEventListener('click', function(event) {
  event.stopPropagation()
  if (document.body.hasAttribute('html-show-sidebar-toc')) {
    document.body.removeAttribute('html-show-sidebar-toc')
  } else {
    document.body.setAttribute('html-show-sidebar-toc', true)
  }
})
</script>
      
  
    
          </div>
        </section>
      </div>
    </main>
</body>

</html>